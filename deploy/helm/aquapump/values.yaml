namespace: aquapump

imageDefaults:
  registry: 043309328819.dkr.ecr.eu-central-1.amazonaws.com
  tag: latest
  pullPolicy: Always

components:
  backend:
    replicaCount: 1
    image:
      repository: aquapump/backend
    containerPort: 8000
    service:
      type: ClusterIP
      port: 8000
    env:
      - name: UVICORN_HOST
        value: "0.0.0.0"
      - name: UVICORN_PORT
        value: "8000"
    readinessProbe:
      httpGet:
        path: /health
        port: 8000
      initialDelaySeconds: 5
      periodSeconds: 10
    livenessProbe:
      httpGet:
        path: /health
        port: 8000
      initialDelaySeconds: 15
      periodSeconds: 20
  frontend:
    replicaCount: 1
    image:
      repository: aquapump/frontend
    containerPort: 80
    service:
      type: ClusterIP
      port: 80
    env:
      - name: VITE_REACT_APP_API_BASE
        value: https://aqua-pump.net/api

ingress:
  enabled: true
  className: nginx
  host: aqua-pump.net
  annotations: {}
  tls: []
