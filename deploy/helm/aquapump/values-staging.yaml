image:
  tag: staging

ingress:
  hosts:
    - host: staging.aqua-pump.net
      paths:
        - path: /
          pathType: Prefix
          service:
            name: frontend
            port: 80
        - path: /api
          pathType: Prefix
          service:
            name: backend
            port: 8000
  tls:
    - hosts:
        - staging.aqua-pump.net
      secretName: aquapump-staging-tls

externalSecrets:
  backend:
    data:
      - secretKey: SUPABASE_URL
        remoteRef:
          key: staging/aquapump/backend
          property: SUPABASE_URL
      - secretKey: SUPABASE_SERVICE_ROLE_KEY
        remoteRef:
          key: staging/aquapump/backend
          property: SUPABASE_SERVICE_ROLE_KEY
      - secretKey: SUPABASE_CHAT_TABLE
        remoteRef:
          key: staging/aquapump/backend
          property: SUPABASE_CHAT_TABLE
      - secretKey: AI_API_KEY
        remoteRef:
          key: staging/aquapump/backend
          property: AI_API_KEY
  frontend:
    data:
      - secretKey: VITE_REACT_APP_API_BASE
        remoteRef:
          key: staging/aquapump/frontend
          property: API_BASE_URL
      - secretKey: VITE_PUBLIC_SITE_ORIGIN
        remoteRef:
          key: staging/aquapump/frontend
          property: SITE_ORIGIN
